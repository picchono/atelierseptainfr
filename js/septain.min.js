function isInViewport(e){const t=e.getBoundingClientRect();return t.top<(window.innerHeight||document.documentElement.clientHeight)}function showPic(){setTimeout(function(){for(var t=document.getElementsByClassName("imag"),e=0;e<t.length;e++)isInViewport(t[e])&&t[e].getAttribute("data-toset")&&(t[e].src=t[e].dataset.toset,delete t[e].dataset.toset)},100)}function chgmainbckg(e){document.getElementById("mainbckgimg").classList.add("blac"),setTimeout(()=>{document.getElementById("mainbckgimg").src=e,document.getElementById("mainbckgimg").classList.add("opaci"),document.getElementById("mainbckgimg").classList.remove("blac")},200)}function returnmainbckg(){document.getElementById("mainbckgimg").classList.add("blac"),setTimeout(()=>{document.getElementById("mainbckgimg").src=document.getElementById("mainbckgimg").getAttribute("data-ref"),document.getElementById("mainbckgimg").classList.remove("opaci"),document.getElementById("mainbckgimg").classList.remove("blac")},200)}document.addEventListener("click",function(e){if(!e.target.matches(".credphoto"))return;e.preventDefault(),window.open(e.target.getAttribute("data-target"),"_blank").focus()},!1);function externalLinks(){for(var e,n=document.getElementsByTagName("a"),t=0;t<n.length;t++)e=n[t],e.getAttribute("href")&&e.hostname!==location.hostname&&(e.target="_blank")&&(e.rel="noreferrer")}var qsRegex,buttonValue,quicksearch,buttons,buttonsArr,categos,categosArr,checksearch=document.getElementById("inputSearch"),elem=document.querySelector(".pack"),iso=new Isotope(elem,{itemSelector:".pack-item",layoutMode:"packery",stamp:".stamp",packery:{gutter:1},getSortData:{weight:"[data-cat-sort]",date:"[data-date]"},sortBy:["weight","date"],sortAscending:!1,filter:function(e){var n,t=!qsRegex||e.textContent.match(qsRegex);return checksearch?(n=!buttonValue||e.textContent.match(buttonValue),t&&n):t}});checksearch&&(quicksearch=document.querySelector(".quickSearch"),quicksearch.addEventListener("keyup",debounce(function(){qsRegex=new RegExp(quicksearch.value,"gi"),iso.arrange()},200))),buttons=document.querySelectorAll(".homemenu"),buttonsArr=Array.from(buttons),buttonsArr.forEach(function(e){e.addEventListener("click",function(){buttonValue=this.dataset.filter,console.log("but",buttonValue),iso.arrange()})});function debounce(e,t){var n;return t=t||100,function(){clearTimeout(n);var o=arguments,i=this;function a(){e.apply(i,o)}n=setTimeout(a,t)}}iso.on("arrangeComplete",function(){for(var n=document.getElementsByClassName("pack-item"),t=0;t<n.length;t++)n[t].classList.remove("isot");showPic()});let isScrolling;window.addEventListener("scroll",function(){clearTimeout(isScrolling),isScrolling=setTimeout(function(){iso.arrange()},500)}),window.addEventListener("resize",function(){clearTimeout(isScrolling),isScrolling=setTimeout(function(){iso.arrange()},500)}),window.addEventListener("load",function(){externalLinks(),iso.arrange()}),categos=document.querySelectorAll(".filtCategory"),categosArr=Array.from(categos),categosArr.forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll("button.filtCriterionOld").forEach(function(e){e.classList.remove("visible")});var t=e.dataset.category;console.log("div.filtCriterionOld."+t),document.querySelectorAll("button.filtCriterionOld."+t).forEach(function(e){e.classList.add("visible")})})}),document.querySelectorAll("button.filtNone").forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll("button.filtCriterionOld").forEach(function(e){e.classList.remove("visible")})})}),document.getElementById("toProjects").addEventListener("click",function(){var t=document.getElementById("projects");window.scrollTo({top:t.offsetTop,behavior:"smooth"})})